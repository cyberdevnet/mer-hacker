{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\frollo\\\\Desktop\\\\DevNet\\\\JavaScript\\\\React\\\\py_react\\\\src\\\\components\\\\Tools\\\\NetworkTopUsers.js\";\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { MDBDataTableV5 } from \"mdbreact\";\nexport default function NetworkTopUsers(ac) {\n  const [showtable, setshowtable] = useState(false);\n  const [trigger, settrigger] = useState(0);\n  console.log(\"NetworkTopUsers -> trigger\", trigger);\n  const [mapROW1, setmapROW1] = useState([]);\n  const [mapROW2, setmapROW2] = useState([]);\n  const [mapROW3, setmapROW3] = useState([]);\n  const [errorMessage, seterrorMessage] = useState(null);\n  console.log(\"NetworkTopUsers -> ac.dc.SNtopUsers\", ac.dc.SNtopUsers);\n  const APIbody2 = {\n    \"X-Cisco-Meraki-API-Key\": `${ac.dc.apiKey}`,\n    \"X-CSRFToken\": \"frollo\",\n    ARG_ORGNAME: `${ac.dc.organization}`,\n    SERIAL_NUM: `${ac.dc.SNtopUsers}`,\n    NET_ID: `${ac.dc.networkID}`,\n    NET_NAME: `${ac.dc.network}`\n  };\n\n  const handleTopUsers = e => {\n    e.preventDefault();\n    settrigger(trigger + 1);\n  };\n\n  const isFirstRun = useRef(true);\n  useEffect(() => {\n    if (isFirstRun.current) {\n      isFirstRun.current = false;\n      return;\n    }\n\n    async function APIcall() {\n      if (ac.dc.isOrgSelected && ac.dc.isNetSelected === true) {\n        if (trigger > 5) {\n          settrigger(0);\n          seterrorMessage(null);\n        }\n\n        if (trigger < 5) {\n          try {\n            ac.dc.setloadingButton(true);\n            fetch(\"/topuserdata/\", {\n              method: [\"POST\"],\n              cache: \"no-cache\",\n              headers: {\n                content_type: \"application/json\"\n              },\n              body: JSON.stringify(APIbody2)\n            }).then(response => response.json);\n            fetch(\"/topuserdata/\", {\n              method: [\"GET\"],\n              cache: \"no-cache\",\n              headers: {\n                content_type: \"application/json\"\n              },\n              body: JSON.stringify(APIbody2)\n            }).then(response => response.json) // fetch(\"/topuserdata/\")\n            // .then((res) => res.json())\n            .then(reports => {\n              console.log(\"APIcall -> reports\", reports);\n              ac.dc.setreports(reports.reports);\n              console.log(\"RUN\"); // let R_obj1 = {};\n              // for (var x = 0; x < reports.reports.length; x++) {\n              //   R_obj1[x] = reports.reports[x];\n              // }\n              // const ROW1 = R_obj1[0];\n              // const ROW2 = R_obj1[1];\n              // const ROW3 = R_obj1[2];\n              // let R1 = [];\n              // // eslint-disable-next-line\n              // ROW1.map((item) => {\n              //   var rowModel = [\n              //     {\n              //       TotalusagekB: item[0],\n              //       DownloadkB: item[1],\n              //       UploadkB: item[2],\n              //       Description: item[3],\n              //       DHCPhostname: item[4],\n              //       MACaddress: item[5],\n              //       IPaddress: item[6],\n              //       VLAN: item[7],\n              //     },\n              //   ];\n              //   R1.push(...rowModel);\n              //   setmapROW1(R1);\n              // });\n              // let R2 = [];\n              // // eslint-disable-next-line\n              // ROW2.map((item) => {\n              //   var rowModel = [\n              //     {\n              //       TotalusagekB: item[0],\n              //       DownloadkB: item[1],\n              //       UploadkB: item[2],\n              //       Description: item[3],\n              //       DHCPhostname: item[4],\n              //       MACaddress: item[5],\n              //       IPaddress: item[6],\n              //       VLAN: item[7],\n              //     },\n              //   ];\n              //   R2.push(...rowModel);\n              //   setmapROW2(R2);\n              // });\n              // let R3 = [];\n              // // eslint-disable-next-line\n              // ROW3.map((item) => {\n              //   var rowModel = [\n              //     {\n              //       TotalusagekB: item[0],\n              //       DownloadkB: item[1],\n              //       UploadkB: item[2],\n              //       Description: item[3],\n              //       DHCPhostname: item[4],\n              //       MACaddress: item[5],\n              //       IPaddress: item[6],\n              //       VLAN: item[7],\n              //     },\n              //   ];\n              //   R3.push(...rowModel);\n              //   setmapROW3(R3);\n              // });\n            }); // .then(() => {\n            //   if (\n            //     mapROW1.length === 0 ||\n            //     mapROW2.length === 0 ||\n            //     mapROW3.length === 0\n            //   ) {\n            //     console.log(\"APIcall -> mapROW1.length\", mapROW1.length);\n            //     console.log(\"APIcall -> mapROW2.length\", mapROW2.length);\n            //     console.log(\"APIcall -> mapROW3.length\", mapROW3.length);\n            //     settrigger(trigger + 1);\n            //   }\n            // })\n            // .then(() => {\n            //   if (mapROW1.length > 0) {\n            //     ac.dc.setloadingButton(false);\n            //   }\n            // })\n            // .then(() => {\n            //   setshowtable(true);\n            // });\n          } catch (err) {\n            if (err) {\n              console.log(err);\n              ac.dc.setalert(true);\n            }\n          }\n        } else {\n          ac.dc.setloadingButton(false);\n          ac.dc.setalert(true);\n          seterrorMessage( /*#__PURE__*/React.createElement(\"div\", {\n            className: \"form-input-error-msg alert alert-danger\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            className: \"glyphicon glyphicon-exclamation-sign\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 15\n            }\n          }), \"No data was found in the selected time range. Please refresh your browser and try another Network.\"));\n        }\n      } else {\n        ac.dc.setswitchAlertModal(true);\n        ac.dc.setswitchToolsTemplate(false);\n      }\n    }\n\n    APIcall();\n    return () => {\n      ac.dc.setreports([]); // ac.dc.setSNtopUsers([]);\n\n      setmapROW1([]);\n      setmapROW2([]);\n      setmapROW3([]);\n      setshowtable(false);\n      ac.dc.setalert(false);\n    }; // eslint-disable-next-line\n  }, [trigger]);\n  const datatable_10 = {\n    columns: [{\n      label: \"Total usage kB\",\n      field: \"TotalusagekB\",\n      width: 150,\n      attributes: {\n        \"aria-controls\": \"DataTable\",\n        \"aria-label\": \"Description\"\n      }\n    }, {\n      label: \"Download kB\",\n      field: \"DownloadkB\",\n      sort: \"asc\",\n      width: 270\n    }, {\n      label: \"Upload kB\",\n      field: \"UploadkB\",\n      sort: \"asc\",\n      width: 200\n    }, {\n      label: \"Description\",\n      field: \"Description\",\n      sort: \"asc\",\n      width: 100\n    }, {\n      label: \"DHCP hostname\",\n      field: \"DHCPhostname\",\n      sort: \"asc\",\n      width: 100\n    }, {\n      label: \"MAC address\",\n      field: \"MACaddress\",\n      sort: \"asc\",\n      width: 100\n    }, {\n      label: \"IP address\",\n      field: \"IPaddress\",\n      sort: \"asc\",\n      width: 100\n    }, {\n      label: \"VLAN\",\n      field: \"VLAN\",\n      sort: \"asc\",\n      width: 100\n    }],\n    rows: mapROW1\n  };\n  const datatable_30 = {\n    columns: [{\n      label: \"Total usage kB\",\n      field: \"TotalusagekB\",\n      width: 150,\n      attributes: {\n        \"aria-controls\": \"DataTable\",\n        \"aria-label\": \"Description\"\n      }\n    }, {\n      label: \"Download kB\",\n      field: \"DownloadkB\",\n      sort: \"asc\",\n      width: 270\n    }, {\n      label: \"UploadkB\",\n      field: \"VlanName\",\n      sort: \"asc\",\n      width: 200\n    }, {\n      label: \"Description\",\n      field: \"Description\",\n      sort: \"asc\",\n      width: 100\n    }, {\n      label: \"DHCP hostname\",\n      field: \"DHCPhostname\",\n      sort: \"asc\",\n      width: 100\n    }, {\n      label: \"MAC address\",\n      field: \"MACaddress\",\n      sort: \"asc\",\n      width: 100\n    }, {\n      label: \"IP address\",\n      field: \"IPaddress\",\n      sort: \"asc\",\n      width: 100\n    }, {\n      label: \"VLAN\",\n      field: \"VLAN\",\n      sort: \"asc\",\n      width: 100\n    }],\n    rows: mapROW2\n  };\n  const datatable_60 = {\n    columns: [{\n      label: \"Total usage kB\",\n      field: \"TotalusagekB\",\n      width: 150,\n      attributes: {\n        \"aria-controls\": \"DataTable\",\n        \"aria-label\": \"Description\"\n      }\n    }, {\n      label: \"Download kB\",\n      field: \"DownloadkB\",\n      sort: \"asc\",\n      width: 270\n    }, {\n      label: \"UploadkB\",\n      field: \"VlanName\",\n      sort: \"asc\",\n      width: 200\n    }, {\n      label: \"Description\",\n      field: \"Description\",\n      sort: \"asc\",\n      width: 100\n    }, {\n      label: \"DHCP hostname\",\n      field: \"DHCPhostname\",\n      sort: \"asc\",\n      width: 100\n    }, {\n      label: \"MAC address\",\n      field: \"MACaddress\",\n      sort: \"asc\",\n      width: 100\n    }, {\n      label: \"IP address\",\n      field: \"IPaddress\",\n      sort: \"asc\",\n      width: 100\n    }, {\n      label: \"VLAN\",\n      field: \"VLAN\",\n      sort: \"asc\",\n      width: 100\n    }],\n    rows: mapROW3\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"page-inner-main-templates\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xs-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel panel-default\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel-group\",\n    id: \"accordion\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel panel-default\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel-heading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"panel-title-description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    \"data-toggle\": \"collapse\",\n    \"data-parent\": \"#accordion\",\n    href: \"#collapseOne\",\n    className: \"collapsed\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"glyphicon glyphicon-info-sign\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"collapseOne\",\n    className: \"panel-collapse collapse\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 21\n    }\n  }, \"This is script gets the top 10 heaviest bandwidth users of an MX security appliance for the last 10, 30 and 60 minutes.\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 21\n    }\n  }, \"Organization: \", ac.dc.organization), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 21\n    }\n  }, \"Network: \", ac.dc.network), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 21\n    }\n  }, \"MX Serial Number: \", ac.dc.SNtopUsers)))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 15\n    }\n  }, errorMessage && /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 37\n    }\n  }, errorMessage)), /*#__PURE__*/React.createElement(\"button\", {\n    id: \"runButton\",\n    className: \"btn btn-primary\",\n    onClick: !ac.dc.loadingButton ? handleTopUsers : null,\n    disabled: ac.dc.loadingButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 15\n    }\n  }, ac.dc.loadingButton && /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-refresh fa-spin\",\n    style: {\n      marginRight: \"5px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 19\n    }\n  }), ac.dc.loadingButton && /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 41\n    }\n  }, \"Loading Data\"), !ac.dc.loadingButton && /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 42\n    }\n  }, \"RUN\")))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xs-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 422,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel panel-default\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 11\n    }\n  }, showtable ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(MDBDataTableV5, {\n    hover: true,\n    entriesOptions: [10],\n    entries: 10,\n    pagesAmount: 10,\n    data: datatable_10,\n    pagingTop: true,\n    searchTop: true,\n    searchBottom: false,\n    exportToCSV: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(MDBDataTableV5, {\n    hover: true,\n    entriesOptions: [10],\n    entries: 10,\n    pagesAmount: 10,\n    data: datatable_30,\n    pagingTop: true,\n    searchTop: true,\n    searchBottom: false,\n    exportToCSV: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 452,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(MDBDataTableV5, {\n    hover: true,\n    entriesOptions: [10],\n    entries: 10,\n    pagesAmount: 10,\n    data: datatable_60,\n    pagingTop: true,\n    searchTop: true,\n    searchBottom: false,\n    exportToCSV: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 453,\n      columnNumber: 19\n    }\n  }))) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 467,\n      columnNumber: 15\n    }\n  })))));\n}","map":{"version":3,"sources":["C:/Users/frollo/Desktop/DevNet/JavaScript/React/py_react/src/components/Tools/NetworkTopUsers.js"],"names":["React","useEffect","useState","useRef","MDBDataTableV5","NetworkTopUsers","ac","showtable","setshowtable","trigger","settrigger","console","log","mapROW1","setmapROW1","mapROW2","setmapROW2","mapROW3","setmapROW3","errorMessage","seterrorMessage","dc","SNtopUsers","APIbody2","apiKey","ARG_ORGNAME","organization","SERIAL_NUM","NET_ID","networkID","NET_NAME","network","handleTopUsers","e","preventDefault","isFirstRun","current","APIcall","isOrgSelected","isNetSelected","setloadingButton","fetch","method","cache","headers","content_type","body","JSON","stringify","then","response","json","reports","setreports","err","setalert","setswitchAlertModal","setswitchToolsTemplate","datatable_10","columns","label","field","width","attributes","sort","rows","datatable_30","datatable_60","loadingButton","marginRight"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\r\nimport { MDBDataTableV5 } from \"mdbreact\";\r\n\r\nexport default function NetworkTopUsers(ac) {\r\n  const [showtable, setshowtable] = useState(false);\r\n  const [trigger, settrigger] = useState(0);\r\n  console.log(\"NetworkTopUsers -> trigger\", trigger);\r\n  const [mapROW1, setmapROW1] = useState([]);\r\n  const [mapROW2, setmapROW2] = useState([]);\r\n  const [mapROW3, setmapROW3] = useState([]);\r\n  const [errorMessage, seterrorMessage] = useState(null);\r\n  console.log(\"NetworkTopUsers -> ac.dc.SNtopUsers\", ac.dc.SNtopUsers);\r\n\r\n  const APIbody2 = {\r\n    \"X-Cisco-Meraki-API-Key\": `${ac.dc.apiKey}`,\r\n    \"X-CSRFToken\": \"frollo\",\r\n    ARG_ORGNAME: `${ac.dc.organization}`,\r\n    SERIAL_NUM: `${ac.dc.SNtopUsers}`,\r\n    NET_ID: `${ac.dc.networkID}`,\r\n    NET_NAME: `${ac.dc.network}`,\r\n  };\r\n\r\n  const handleTopUsers = (e) => {\r\n    e.preventDefault();\r\n    settrigger(trigger + 1);\r\n  };\r\n\r\n  const isFirstRun = useRef(true);\r\n  useEffect(() => {\r\n    if (isFirstRun.current) {\r\n      isFirstRun.current = false;\r\n      return;\r\n    }\r\n\r\n    async function APIcall() {\r\n      if (ac.dc.isOrgSelected && ac.dc.isNetSelected === true) {\r\n        if (trigger > 5) {\r\n          settrigger(0);\r\n          seterrorMessage(null);\r\n        }\r\n        if (trigger < 5) {\r\n          try {\r\n            ac.dc.setloadingButton(true);\r\n\r\n            fetch(\"/topuserdata/\", {\r\n              method: [\"POST\"],\r\n              cache: \"no-cache\",\r\n              headers: {\r\n                content_type: \"application/json\",\r\n              },\r\n              body: JSON.stringify(APIbody2),\r\n            }).then((response) => response.json);\r\n\r\n            fetch(\"/topuserdata/\", {\r\n              method: [\"GET\"],\r\n              cache: \"no-cache\",\r\n              headers: {\r\n                content_type: \"application/json\",\r\n              },\r\n              body: JSON.stringify(APIbody2),\r\n            })\r\n              .then((response) => response.json)\r\n\r\n              // fetch(\"/topuserdata/\")\r\n              // .then((res) => res.json())\r\n              .then((reports) => {\r\n                console.log(\"APIcall -> reports\", reports);\r\n                ac.dc.setreports(reports.reports);\r\n                console.log(\"RUN\");\r\n\r\n                // let R_obj1 = {};\r\n                // for (var x = 0; x < reports.reports.length; x++) {\r\n                //   R_obj1[x] = reports.reports[x];\r\n                // }\r\n                // const ROW1 = R_obj1[0];\r\n                // const ROW2 = R_obj1[1];\r\n                // const ROW3 = R_obj1[2];\r\n\r\n                // let R1 = [];\r\n                // // eslint-disable-next-line\r\n                // ROW1.map((item) => {\r\n                //   var rowModel = [\r\n                //     {\r\n                //       TotalusagekB: item[0],\r\n                //       DownloadkB: item[1],\r\n                //       UploadkB: item[2],\r\n                //       Description: item[3],\r\n                //       DHCPhostname: item[4],\r\n                //       MACaddress: item[5],\r\n                //       IPaddress: item[6],\r\n                //       VLAN: item[7],\r\n                //     },\r\n                //   ];\r\n                //   R1.push(...rowModel);\r\n                //   setmapROW1(R1);\r\n                // });\r\n\r\n                // let R2 = [];\r\n                // // eslint-disable-next-line\r\n                // ROW2.map((item) => {\r\n                //   var rowModel = [\r\n                //     {\r\n                //       TotalusagekB: item[0],\r\n                //       DownloadkB: item[1],\r\n                //       UploadkB: item[2],\r\n                //       Description: item[3],\r\n                //       DHCPhostname: item[4],\r\n                //       MACaddress: item[5],\r\n                //       IPaddress: item[6],\r\n                //       VLAN: item[7],\r\n                //     },\r\n                //   ];\r\n                //   R2.push(...rowModel);\r\n                //   setmapROW2(R2);\r\n                // });\r\n\r\n                // let R3 = [];\r\n                // // eslint-disable-next-line\r\n                // ROW3.map((item) => {\r\n                //   var rowModel = [\r\n                //     {\r\n                //       TotalusagekB: item[0],\r\n                //       DownloadkB: item[1],\r\n                //       UploadkB: item[2],\r\n                //       Description: item[3],\r\n                //       DHCPhostname: item[4],\r\n                //       MACaddress: item[5],\r\n                //       IPaddress: item[6],\r\n                //       VLAN: item[7],\r\n                //     },\r\n                //   ];\r\n                //   R3.push(...rowModel);\r\n                //   setmapROW3(R3);\r\n                // });\r\n              });\r\n            // .then(() => {\r\n            //   if (\r\n            //     mapROW1.length === 0 ||\r\n            //     mapROW2.length === 0 ||\r\n            //     mapROW3.length === 0\r\n            //   ) {\r\n            //     console.log(\"APIcall -> mapROW1.length\", mapROW1.length);\r\n            //     console.log(\"APIcall -> mapROW2.length\", mapROW2.length);\r\n            //     console.log(\"APIcall -> mapROW3.length\", mapROW3.length);\r\n            //     settrigger(trigger + 1);\r\n            //   }\r\n            // })\r\n            // .then(() => {\r\n            //   if (mapROW1.length > 0) {\r\n            //     ac.dc.setloadingButton(false);\r\n            //   }\r\n            // })\r\n            // .then(() => {\r\n            //   setshowtable(true);\r\n            // });\r\n          } catch (err) {\r\n            if (err) {\r\n              console.log(err);\r\n              ac.dc.setalert(true);\r\n            }\r\n          }\r\n        } else {\r\n          ac.dc.setloadingButton(false);\r\n          ac.dc.setalert(true);\r\n          seterrorMessage(\r\n            <div className=\"form-input-error-msg alert alert-danger\">\r\n              <span className=\"glyphicon glyphicon-exclamation-sign\"></span>\r\n              No data was found in the selected time range. Please refresh your\r\n              browser and try another Network.\r\n            </div>\r\n          );\r\n        }\r\n      } else {\r\n        ac.dc.setswitchAlertModal(true);\r\n        ac.dc.setswitchToolsTemplate(false);\r\n      }\r\n    }\r\n    APIcall();\r\n    return () => {\r\n      ac.dc.setreports([]);\r\n      // ac.dc.setSNtopUsers([]);\r\n      setmapROW1([]);\r\n      setmapROW2([]);\r\n      setmapROW3([]);\r\n      setshowtable(false);\r\n      ac.dc.setalert(false);\r\n    };\r\n    // eslint-disable-next-line\r\n  }, [trigger]);\r\n\r\n  const datatable_10 = {\r\n    columns: [\r\n      {\r\n        label: \"Total usage kB\",\r\n        field: \"TotalusagekB\",\r\n        width: 150,\r\n        attributes: {\r\n          \"aria-controls\": \"DataTable\",\r\n          \"aria-label\": \"Description\",\r\n        },\r\n      },\r\n      {\r\n        label: \"Download kB\",\r\n        field: \"DownloadkB\",\r\n        sort: \"asc\",\r\n        width: 270,\r\n      },\r\n      {\r\n        label: \"Upload kB\",\r\n        field: \"UploadkB\",\r\n        sort: \"asc\",\r\n        width: 200,\r\n      },\r\n      {\r\n        label: \"Description\",\r\n        field: \"Description\",\r\n        sort: \"asc\",\r\n        width: 100,\r\n      },\r\n      {\r\n        label: \"DHCP hostname\",\r\n        field: \"DHCPhostname\",\r\n        sort: \"asc\",\r\n        width: 100,\r\n      },\r\n      {\r\n        label: \"MAC address\",\r\n        field: \"MACaddress\",\r\n        sort: \"asc\",\r\n        width: 100,\r\n      },\r\n      {\r\n        label: \"IP address\",\r\n        field: \"IPaddress\",\r\n        sort: \"asc\",\r\n        width: 100,\r\n      },\r\n      {\r\n        label: \"VLAN\",\r\n        field: \"VLAN\",\r\n        sort: \"asc\",\r\n        width: 100,\r\n      },\r\n    ],\r\n    rows: mapROW1,\r\n  };\r\n  const datatable_30 = {\r\n    columns: [\r\n      {\r\n        label: \"Total usage kB\",\r\n        field: \"TotalusagekB\",\r\n        width: 150,\r\n        attributes: {\r\n          \"aria-controls\": \"DataTable\",\r\n          \"aria-label\": \"Description\",\r\n        },\r\n      },\r\n      {\r\n        label: \"Download kB\",\r\n        field: \"DownloadkB\",\r\n        sort: \"asc\",\r\n        width: 270,\r\n      },\r\n      {\r\n        label: \"UploadkB\",\r\n        field: \"VlanName\",\r\n        sort: \"asc\",\r\n        width: 200,\r\n      },\r\n      {\r\n        label: \"Description\",\r\n        field: \"Description\",\r\n        sort: \"asc\",\r\n        width: 100,\r\n      },\r\n      {\r\n        label: \"DHCP hostname\",\r\n        field: \"DHCPhostname\",\r\n        sort: \"asc\",\r\n        width: 100,\r\n      },\r\n      {\r\n        label: \"MAC address\",\r\n        field: \"MACaddress\",\r\n        sort: \"asc\",\r\n        width: 100,\r\n      },\r\n      {\r\n        label: \"IP address\",\r\n        field: \"IPaddress\",\r\n        sort: \"asc\",\r\n        width: 100,\r\n      },\r\n      {\r\n        label: \"VLAN\",\r\n        field: \"VLAN\",\r\n        sort: \"asc\",\r\n        width: 100,\r\n      },\r\n    ],\r\n    rows: mapROW2,\r\n  };\r\n\r\n  const datatable_60 = {\r\n    columns: [\r\n      {\r\n        label: \"Total usage kB\",\r\n        field: \"TotalusagekB\",\r\n        width: 150,\r\n        attributes: {\r\n          \"aria-controls\": \"DataTable\",\r\n          \"aria-label\": \"Description\",\r\n        },\r\n      },\r\n      {\r\n        label: \"Download kB\",\r\n        field: \"DownloadkB\",\r\n        sort: \"asc\",\r\n        width: 270,\r\n      },\r\n      {\r\n        label: \"UploadkB\",\r\n        field: \"VlanName\",\r\n        sort: \"asc\",\r\n        width: 200,\r\n      },\r\n      {\r\n        label: \"Description\",\r\n        field: \"Description\",\r\n        sort: \"asc\",\r\n        width: 100,\r\n      },\r\n      {\r\n        label: \"DHCP hostname\",\r\n        field: \"DHCPhostname\",\r\n        sort: \"asc\",\r\n        width: 100,\r\n      },\r\n      {\r\n        label: \"MAC address\",\r\n        field: \"MACaddress\",\r\n        sort: \"asc\",\r\n        width: 100,\r\n      },\r\n      {\r\n        label: \"IP address\",\r\n        field: \"IPaddress\",\r\n        sort: \"asc\",\r\n        width: 100,\r\n      },\r\n      {\r\n        label: \"VLAN\",\r\n        field: \"VLAN\",\r\n        sort: \"asc\",\r\n        width: 100,\r\n      },\r\n    ],\r\n    rows: mapROW3,\r\n  };\r\n\r\n  return (\r\n    <div id=\"page-inner-main-templates\">\r\n      <div className=\"row\">\r\n        <div className=\"col-xs-12\">\r\n          <div className=\"panel panel-default\">\r\n            <div className=\"panel-body\">\r\n              <div className=\"panel-group\" id=\"accordion\">\r\n                <div className=\"panel panel-default\">\r\n                  <div className=\"panel-heading\">\r\n                    <h4 className=\"panel-title-description\">\r\n                      <a\r\n                        data-toggle=\"collapse\"\r\n                        data-parent=\"#accordion\"\r\n                        href=\"#collapseOne\"\r\n                        className=\"collapsed\"\r\n                      >\r\n                        <span className=\"glyphicon glyphicon-info-sign\"></span>\r\n                      </a>\r\n                    </h4>\r\n                  </div>\r\n                  <div id=\"collapseOne\" className=\"panel-collapse collapse\">\r\n                    <div className=\"panel-body\">\r\n                      This is script gets the top 10 heaviest bandwidth users of\r\n                      an MX security appliance for the last 10, 30 and 60\r\n                      minutes.\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"panel-body\">\r\n              <div>\r\n                <ul className=\"nav\">\r\n                  <li>\r\n                    <h5>Organization: {ac.dc.organization}</h5>\r\n                    <h5>Network: {ac.dc.network}</h5>\r\n                    <h5>MX Serial Number: {ac.dc.SNtopUsers}</h5>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n              <div>{errorMessage && <span>{errorMessage}</span>}</div>\r\n              <button\r\n                id=\"runButton\"\r\n                className=\"btn btn-primary\"\r\n                onClick={!ac.dc.loadingButton ? handleTopUsers : null}\r\n                disabled={ac.dc.loadingButton}\r\n              >\r\n                {ac.dc.loadingButton && (\r\n                  <i\r\n                    className=\"fa fa-refresh fa-spin\"\r\n                    style={{ marginRight: \"5px\" }}\r\n                  />\r\n                )}\r\n                {ac.dc.loadingButton && <span>Loading Data</span>}\r\n                {!ac.dc.loadingButton && <span>RUN</span>}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"row\">\r\n        <div className=\"col-xs-12\">\r\n          <div className=\"panel panel-default\">\r\n            {showtable ? (\r\n              <div>\r\n                <div className=\"panel-body\">\r\n                  <MDBDataTableV5\r\n                    hover\r\n                    entriesOptions={[10]}\r\n                    entries={10}\r\n                    pagesAmount={10}\r\n                    data={datatable_10}\r\n                    pagingTop\r\n                    searchTop\r\n                    searchBottom={false}\r\n                    exportToCSV={true}\r\n                  />\r\n                </div>\r\n                <div className=\"panel-body\">\r\n                  <MDBDataTableV5\r\n                    hover\r\n                    entriesOptions={[10]}\r\n                    entries={10}\r\n                    pagesAmount={10}\r\n                    data={datatable_30}\r\n                    pagingTop\r\n                    searchTop\r\n                    searchBottom={false}\r\n                    exportToCSV={true}\r\n                  />\r\n                </div>\r\n                <div className=\"panel-body\">\r\n                  <MDBDataTableV5\r\n                    hover\r\n                    entriesOptions={[10]}\r\n                    entries={10}\r\n                    pagesAmount={10}\r\n                    data={datatable_60}\r\n                    pagingTop\r\n                    searchTop\r\n                    searchBottom={false}\r\n                    exportToCSV={true}\r\n                  />\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div></div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}