{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\frollo\\\\Desktop\\\\DevNet\\\\JavaScript\\\\React\\\\py_react\\\\src\\\\components\\\\Tools\\\\TrafficAnalysis.js\";\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { MDBDataTableV5 } from \"mdbreact\";\nexport default function TrafficAnalysis(ac) {\n  const [showtable, setshowtable] = useState(false);\n  const [trigger, settrigger] = useState(0);\n  const [mapROW1, setmapROW1] = useState([]);\n  const [switchTimeInterval, setswitchTimeInterval] = useState(7200);\n  const [switchDeviceType, setswitchDeviceType] = useState(\"combined\");\n  const [netwanalysis, setnetwanalysis] = useState([]);\n  const [errorMessage, seterrorMessage] = useState(null);\n  const APIbody2 = {\n    \"X-Cisco-Meraki-API-Key\": `${ac.dc.apiKey}`,\n    DEV_TYPE: switchDeviceType,\n    NET_ID: `${ac.dc.networkID}`,\n    TIME_SPAN: switchTimeInterval\n  };\n\n  const selectTimeInterval = () => {\n    let selectBox = document.getElementById(\"selectBox-find-time-span\");\n    let selectedValue = selectBox.options[selectBox.selectedIndex].value;\n\n    if (selectedValue === \"1\") {\n      setswitchTimeInterval(7200);\n    } else if (selectedValue === \"2\") {\n      setswitchTimeInterval(28800);\n    } else if (selectedValue === \"3\") {\n      setswitchTimeInterval(86400);\n    } else if (selectedValue === \"4\") {\n      setswitchTimeInterval(604800);\n    } else if (selectedValue === \"5\") {\n      setswitchTimeInterval(2592000);\n    }\n  };\n\n  const selectDeviceType = () => {\n    let selectBox = document.getElementById(\"selectBox-find-device-type\");\n    let selectedValue = selectBox.options[selectBox.selectedIndex].value;\n\n    if (selectedValue === \"1\") {\n      setswitchDeviceType(\"combined\");\n    } else if (selectedValue === \"2\") {\n      setswitchDeviceType(\"wireless\");\n    } else if (selectedValue === \"3\") {\n      setswitchDeviceType(\"switch\");\n    } else if (selectedValue === \"4\") {\n      setswitchDeviceType(\"appliance\");\n    }\n  };\n\n  const handleTopUsers = e => {\n    e.preventDefault();\n    settrigger(trigger + 1);\n\n    if (trigger > 3) {\n      settrigger(0);\n      seterrorMessage(null);\n    }\n  };\n\n  const isFirstRun = useRef(true);\n  useEffect(() => {\n    if (isFirstRun.current) {\n      isFirstRun.current = false;\n      return;\n    }\n\n    async function APIcall() {\n      if (ac.dc.isOrgSelected && ac.dc.isNetSelected === true) {\n        if (trigger < 4) {\n          try {\n            ac.dc.setloadingButton(true);\n            fetch(\"/traffic_analysis/\", {\n              method: [\"POST\"],\n              cache: \"no-cache\",\n              headers: {\n                content_type: \"application/json\"\n              },\n              body: JSON.stringify(APIbody2)\n            }).then(response => {\n              return response.json;\n            });\n            fetch(\"/traffic_analysis/\").then(res => {\n              if (!res.ok) {\n                throw res;\n              }\n\n              return res.json();\n            }).then(data => {\n              setnetwanalysis(data.analysis);\n              let R_obj1 = {};\n\n              for (var x = 0; x < data.analysis.length; x++) {\n                R_obj1[x] = data.analysis[x];\n              }\n\n              const ROW1 = Object.values(R_obj1);\n              let R1 = []; // eslint-disable-next-line\n\n              ROW1.map(item => {\n                var rowModel = [{\n                  application: item.application,\n                  destination: item.destination,\n                  protocol: item.protocol,\n                  port: item.port,\n                  sent: item.sent,\n                  recv: item.recv,\n                  flows: item.flow,\n                  activeTime: item.activeTime,\n                  numClients: item.numClients\n                }];\n                R1.push(...rowModel);\n                setmapROW1(R1);\n              });\n            }).then(() => {\n              if (mapROW1.length === 0) {\n                settrigger(trigger + 1);\n              }\n            }).then(() => {\n              if (mapROW1.length > 0) {\n                ac.dc.setloadingButton(false);\n              }\n            }).then(() => {\n              setshowtable(true);\n            }).catch(err => {\n              err.json().then(errorMessage => {\n                seterrorMessage( /*#__PURE__*/React.createElement(\"div\", {\n                  className: \"form-input-error-msg alert alert-danger\",\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 137,\n                    columnNumber: 21\n                  }\n                }, /*#__PURE__*/React.createElement(\"span\", {\n                  className: \"glyphicon glyphicon-exclamation-sign\",\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 138,\n                    columnNumber: 23\n                  }\n                }), errorMessage));\n              });\n              ac.dc.setloadingButton(false);\n            });\n          } catch (err) {\n            if (err) {\n              console.log(\"This is the error:\", err);\n              ac.dc.setalert(true);\n              ac.dc.setloadingButton(false);\n            }\n          }\n        } else {\n          ac.dc.setloadingButton(false);\n          ac.dc.setalert(true);\n          seterrorMessage( /*#__PURE__*/React.createElement(\"div\", {\n            className: \"form-input-error-msg alert alert-danger\",\n            style: {\n              margin: \"10px\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            className: \"glyphicon glyphicon-exclamation-sign\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 15\n            }\n          }), \"No data was found in the selected time range.\"));\n        }\n      } else {\n        ac.dc.setswitchAlertModal(true);\n        ac.dc.setswitchToolsTemplate(false);\n      }\n    }\n\n    APIcall();\n    return () => {\n      setnetwanalysis([]);\n      setmapROW1([]);\n      setshowtable(false);\n      ac.dc.setalert(false);\n      seterrorMessage(null);\n    }; // eslint-disable-next-line\n  }, [trigger]);\n  const datatable_10 = {\n    columns: [{\n      label: \"Application\",\n      field: \"application\",\n      sort: \"asc\",\n      width: 270\n    }, {\n      label: \"Destination\",\n      field: \"destination\",\n      sort: \"asc\",\n      width: 200\n    }, {\n      label: \"Protocol\",\n      field: \"protocol\",\n      sort: \"asc\",\n      width: 100\n    }, {\n      label: \"Port\",\n      field: \"port\",\n      sort: \"asc\",\n      width: 100\n    }, {\n      label: \"Sent\",\n      field: \"sent\",\n      sort: \"asc\",\n      width: 100\n    }, {\n      label: \"Received\",\n      field: \"recv\",\n      sort: \"asc\",\n      width: 100\n    }, {\n      label: \"Flows\",\n      field: \"flows\",\n      sort: \"asc\",\n      width: 100\n    }, {\n      label: \"Active Time\",\n      field: \"activeTime\",\n      width: 150,\n      attributes: {\n        \"aria-controls\": \"DataTable\",\n        \"aria-label\": \"Description\"\n      }\n    }, {\n      label: \"Clients\",\n      field: \"numClients\",\n      sort: \"asc\",\n      width: 100\n    }],\n    rows: mapROW1\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"page-inner-main-templates\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xs-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel panel-default\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel-group\",\n    id: \"accordion\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel panel-default\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel-heading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"panel-title-description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    \"data-toggle\": \"collapse\",\n    \"data-parent\": \"#accordion\",\n    href: \"#collapseOne\",\n    className: \"collapsed\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"glyphicon glyphicon-info-sign\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"collapseOne\",\n    className: \"panel-collapse collapse\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 21\n    }\n  }, \"This is script gets the top 10 heaviest bandwidth users of an MX security appliance for the last 10, 30 and 60 minutes.\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form-inline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    onChange: selectTimeInterval,\n    id: \"selectBox-find-time-span\",\n    className: \"btn btn-default dropdown-toggle-tools-findports\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"optgroup\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    className: \"option-tools-disabled\",\n    value: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 23\n    }\n  }, \"Select Time Interval\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 23\n    }\n  }, \"2 Hour\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 23\n    }\n  }, \"8 Hours\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 23\n    }\n  }, \"1 Day\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 23\n    }\n  }, \"7 Days\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 23\n    }\n  }, \"1 Month\"))), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: selectDeviceType,\n    id: \"selectBox-find-device-type\",\n    className: \"btn btn-default dropdown-toggle-tools-findports\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"optgroup\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    className: \"option-tools-disabled\",\n    value: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 23\n    }\n  }, \"Select Device Type\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 23\n    }\n  }, \"Combined\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 23\n    }\n  }, \"Wireless\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 23\n    }\n  }, \"Switch\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 23\n    }\n  }, \"Appliance\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 15\n    }\n  }, errorMessage && /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 37\n    }\n  }, errorMessage)), /*#__PURE__*/React.createElement(\"button\", {\n    id: \"runButton\",\n    className: \"btn btn-primary\",\n    onClick: !ac.dc.loadingButton ? handleTopUsers : null,\n    disabled: ac.dc.loadingButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 15\n    }\n  }, ac.dc.loadingButton && /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-refresh fa-spin\",\n    style: {\n      marginRight: \"5px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 19\n    }\n  }), ac.dc.loadingButton && /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 41\n    }\n  }, \"Loading Data\"), !ac.dc.loadingButton && /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 42\n    }\n  }, \"RUN\")))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xs-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel panel-default\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 11\n    }\n  }, showtable ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(MDBDataTableV5, {\n    hover: true,\n    entriesOptions: [10, 25, 100, 250, 500, 1000, 2000],\n    entries: 25,\n    pagesAmount: 1000,\n    data: datatable_10,\n    pagingTop: true,\n    searchTop: true,\n    searchBottom: false,\n    exportToCSV: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 19\n    }\n  }))) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 15\n    }\n  })))));\n}","map":{"version":3,"sources":["C:/Users/frollo/Desktop/DevNet/JavaScript/React/py_react/src/components/Tools/TrafficAnalysis.js"],"names":["React","useEffect","useState","useRef","MDBDataTableV5","TrafficAnalysis","ac","showtable","setshowtable","trigger","settrigger","mapROW1","setmapROW1","switchTimeInterval","setswitchTimeInterval","switchDeviceType","setswitchDeviceType","netwanalysis","setnetwanalysis","errorMessage","seterrorMessage","APIbody2","dc","apiKey","DEV_TYPE","NET_ID","networkID","TIME_SPAN","selectTimeInterval","selectBox","document","getElementById","selectedValue","options","selectedIndex","value","selectDeviceType","handleTopUsers","e","preventDefault","isFirstRun","current","APIcall","isOrgSelected","isNetSelected","setloadingButton","fetch","method","cache","headers","content_type","body","JSON","stringify","then","response","json","res","ok","data","analysis","R_obj1","x","length","ROW1","Object","values","R1","map","item","rowModel","application","destination","protocol","port","sent","recv","flows","flow","activeTime","numClients","push","catch","err","console","log","setalert","margin","setswitchAlertModal","setswitchToolsTemplate","datatable_10","columns","label","field","sort","width","attributes","rows","loadingButton","marginRight"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\r\nimport { MDBDataTableV5 } from \"mdbreact\";\r\n\r\nexport default function TrafficAnalysis(ac) {\r\n  const [showtable, setshowtable] = useState(false);\r\n  const [trigger, settrigger] = useState(0);\r\n  const [mapROW1, setmapROW1] = useState([]);\r\n  const [switchTimeInterval, setswitchTimeInterval] = useState(7200);\r\n  const [switchDeviceType, setswitchDeviceType] = useState(\"combined\");\r\n  const [netwanalysis, setnetwanalysis] = useState([]);\r\n  const [errorMessage, seterrorMessage] = useState(null);\r\n\r\n  const APIbody2 = {\r\n    \"X-Cisco-Meraki-API-Key\": `${ac.dc.apiKey}`,\r\n    DEV_TYPE: switchDeviceType,\r\n    NET_ID: `${ac.dc.networkID}`,\r\n    TIME_SPAN: switchTimeInterval,\r\n  };\r\n\r\n  const selectTimeInterval = () => {\r\n    let selectBox = document.getElementById(\"selectBox-find-time-span\");\r\n    let selectedValue = selectBox.options[selectBox.selectedIndex].value;\r\n    if (selectedValue === \"1\") {\r\n      setswitchTimeInterval(7200);\r\n    } else if (selectedValue === \"2\") {\r\n      setswitchTimeInterval(28800);\r\n    } else if (selectedValue === \"3\") {\r\n      setswitchTimeInterval(86400);\r\n    } else if (selectedValue === \"4\") {\r\n      setswitchTimeInterval(604800);\r\n    } else if (selectedValue === \"5\") {\r\n      setswitchTimeInterval(2592000);\r\n    }\r\n  };\r\n\r\n  const selectDeviceType = () => {\r\n    let selectBox = document.getElementById(\"selectBox-find-device-type\");\r\n    let selectedValue = selectBox.options[selectBox.selectedIndex].value;\r\n    if (selectedValue === \"1\") {\r\n      setswitchDeviceType(\"combined\");\r\n    } else if (selectedValue === \"2\") {\r\n      setswitchDeviceType(\"wireless\");\r\n    } else if (selectedValue === \"3\") {\r\n      setswitchDeviceType(\"switch\");\r\n    } else if (selectedValue === \"4\") {\r\n      setswitchDeviceType(\"appliance\");\r\n    }\r\n  };\r\n\r\n  const handleTopUsers = (e) => {\r\n    e.preventDefault();\r\n    settrigger(trigger + 1);\r\n    if (trigger > 3) {\r\n      settrigger(0);\r\n      seterrorMessage(null);\r\n    }\r\n  };\r\n\r\n  const isFirstRun = useRef(true);\r\n  useEffect(() => {\r\n    if (isFirstRun.current) {\r\n      isFirstRun.current = false;\r\n      return;\r\n    }\r\n\r\n    async function APIcall() {\r\n      if (ac.dc.isOrgSelected && ac.dc.isNetSelected === true) {\r\n        if (trigger < 4) {\r\n          try {\r\n            ac.dc.setloadingButton(true);\r\n\r\n            fetch(\"/traffic_analysis/\", {\r\n              method: [\"POST\"],\r\n              cache: \"no-cache\",\r\n              headers: {\r\n                content_type: \"application/json\",\r\n              },\r\n              body: JSON.stringify(APIbody2),\r\n            }).then((response) => {\r\n              return response.json;\r\n            });\r\n\r\n            fetch(\"/traffic_analysis/\")\r\n              .then((res) => {\r\n                if (!res.ok) {\r\n                  throw res;\r\n                }\r\n                return res.json();\r\n              })\r\n\r\n              .then((data) => {\r\n                setnetwanalysis(data.analysis);\r\n\r\n                let R_obj1 = {};\r\n                for (var x = 0; x < data.analysis.length; x++) {\r\n                  R_obj1[x] = data.analysis[x];\r\n                }\r\n\r\n                const ROW1 = Object.values(R_obj1);\r\n\r\n                let R1 = [];\r\n                // eslint-disable-next-line\r\n                ROW1.map((item) => {\r\n                  var rowModel = [\r\n                    {\r\n                      application: item.application,\r\n                      destination: item.destination,\r\n                      protocol: item.protocol,\r\n                      port: item.port,\r\n                      sent: item.sent,\r\n                      recv: item.recv,\r\n                      flows: item.flow,\r\n                      activeTime: item.activeTime,\r\n                      numClients: item.numClients,\r\n                    },\r\n                  ];\r\n                  R1.push(...rowModel);\r\n                  setmapROW1(R1);\r\n                });\r\n              })\r\n              .then(() => {\r\n                if (mapROW1.length === 0) {\r\n                  settrigger(trigger + 1);\r\n                }\r\n              })\r\n              .then(() => {\r\n                if (mapROW1.length > 0) {\r\n                  ac.dc.setloadingButton(false);\r\n                }\r\n              })\r\n              .then(() => {\r\n                setshowtable(true);\r\n              })\r\n              .catch((err) => {\r\n                err.json().then((errorMessage) => {\r\n                  seterrorMessage(\r\n                    <div className=\"form-input-error-msg alert alert-danger\">\r\n                      <span className=\"glyphicon glyphicon-exclamation-sign\"></span>\r\n                      {errorMessage}\r\n                    </div>\r\n                  );\r\n                });\r\n                ac.dc.setloadingButton(false);\r\n              });\r\n          } catch (err) {\r\n            if (err) {\r\n              console.log(\"This is the error:\", err);\r\n              ac.dc.setalert(true);\r\n              ac.dc.setloadingButton(false);\r\n            }\r\n          }\r\n        } else {\r\n          ac.dc.setloadingButton(false);\r\n          ac.dc.setalert(true);\r\n\r\n          seterrorMessage(\r\n            <div\r\n              className=\"form-input-error-msg alert alert-danger\"\r\n              style={{ margin: \"10px\" }}\r\n            >\r\n              <span className=\"glyphicon glyphicon-exclamation-sign\"></span>\r\n              No data was found in the selected time range.\r\n            </div>\r\n          );\r\n        }\r\n      } else {\r\n        ac.dc.setswitchAlertModal(true);\r\n        ac.dc.setswitchToolsTemplate(false);\r\n      }\r\n    }\r\n    APIcall();\r\n    return () => {\r\n      setnetwanalysis([]);\r\n      setmapROW1([]);\r\n      setshowtable(false);\r\n      ac.dc.setalert(false);\r\n      seterrorMessage(null);\r\n    };\r\n    // eslint-disable-next-line\r\n  }, [trigger]);\r\n\r\n  const datatable_10 = {\r\n    columns: [\r\n      {\r\n        label: \"Application\",\r\n        field: \"application\",\r\n        sort: \"asc\",\r\n        width: 270,\r\n      },\r\n\r\n      {\r\n        label: \"Destination\",\r\n        field: \"destination\",\r\n        sort: \"asc\",\r\n        width: 200,\r\n      },\r\n      {\r\n        label: \"Protocol\",\r\n        field: \"protocol\",\r\n        sort: \"asc\",\r\n        width: 100,\r\n      },\r\n      {\r\n        label: \"Port\",\r\n        field: \"port\",\r\n        sort: \"asc\",\r\n        width: 100,\r\n      },\r\n      {\r\n        label: \"Sent\",\r\n        field: \"sent\",\r\n        sort: \"asc\",\r\n        width: 100,\r\n      },\r\n\r\n      {\r\n        label: \"Received\",\r\n        field: \"recv\",\r\n        sort: \"asc\",\r\n        width: 100,\r\n      },\r\n      {\r\n        label: \"Flows\",\r\n        field: \"flows\",\r\n        sort: \"asc\",\r\n        width: 100,\r\n      },\r\n      {\r\n        label: \"Active Time\",\r\n        field: \"activeTime\",\r\n        width: 150,\r\n        attributes: {\r\n          \"aria-controls\": \"DataTable\",\r\n          \"aria-label\": \"Description\",\r\n        },\r\n      },\r\n\r\n      {\r\n        label: \"Clients\",\r\n        field: \"numClients\",\r\n        sort: \"asc\",\r\n        width: 100,\r\n      },\r\n    ],\r\n    rows: mapROW1,\r\n  };\r\n\r\n  return (\r\n    <div id=\"page-inner-main-templates\">\r\n      <div className=\"row\">\r\n        <div className=\"col-xs-12\">\r\n          <div className=\"panel panel-default\">\r\n            <div className=\"panel-body\">\r\n              <div className=\"panel-group\" id=\"accordion\">\r\n                <div className=\"panel panel-default\">\r\n                  <div className=\"panel-heading\">\r\n                    <h4 className=\"panel-title-description\">\r\n                      <a\r\n                        data-toggle=\"collapse\"\r\n                        data-parent=\"#accordion\"\r\n                        href=\"#collapseOne\"\r\n                        className=\"collapsed\"\r\n                      >\r\n                        <span className=\"glyphicon glyphicon-info-sign\"></span>\r\n                      </a>\r\n                    </h4>\r\n                  </div>\r\n                  <div id=\"collapseOne\" className=\"panel-collapse collapse\">\r\n                    <div className=\"panel-body\">\r\n                      This is script gets the top 10 heaviest bandwidth users of\r\n                      an MX security appliance for the last 10, 30 and 60\r\n                      minutes.\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"panel-body\">\r\n              <form className=\"form-inline\">\r\n                <div className=\"form-group\">\r\n                  <select\r\n                    onChange={selectTimeInterval}\r\n                    id=\"selectBox-find-time-span\"\r\n                    className=\"btn btn-default dropdown-toggle-tools-findports\"\r\n                  >\r\n                    <optgroup>\r\n                      <option className=\"option-tools-disabled\" value=\"0\">\r\n                        Select Time Interval\r\n                      </option>\r\n                      <option value=\"1\">2 Hour</option>\r\n                      <option value=\"2\">8 Hours</option>\r\n                      <option value=\"3\">1 Day</option>\r\n                      <option value=\"4\">7 Days</option>\r\n                      <option value=\"5\">1 Month</option>\r\n                    </optgroup>\r\n                  </select>\r\n                  <select\r\n                    onChange={selectDeviceType}\r\n                    id=\"selectBox-find-device-type\"\r\n                    className=\"btn btn-default dropdown-toggle-tools-findports\"\r\n                  >\r\n                    <optgroup>\r\n                      <option className=\"option-tools-disabled\" value=\"0\">\r\n                        Select Device Type\r\n                      </option>\r\n                      <option value=\"1\">Combined</option>\r\n                      <option value=\"2\">Wireless</option>\r\n                      <option value=\"3\">Switch</option>\r\n                      <option value=\"4\">Appliance</option>\r\n                    </optgroup>\r\n                  </select>\r\n                </div>\r\n              </form>\r\n\r\n              <div>{errorMessage && <span>{errorMessage}</span>}</div>\r\n              <button\r\n                id=\"runButton\"\r\n                className=\"btn btn-primary\"\r\n                onClick={!ac.dc.loadingButton ? handleTopUsers : null}\r\n                disabled={ac.dc.loadingButton}\r\n              >\r\n                {ac.dc.loadingButton && (\r\n                  <i\r\n                    className=\"fa fa-refresh fa-spin\"\r\n                    style={{ marginRight: \"5px\" }}\r\n                  />\r\n                )}\r\n                {ac.dc.loadingButton && <span>Loading Data</span>}\r\n                {!ac.dc.loadingButton && <span>RUN</span>}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"row\">\r\n        <div className=\"col-xs-12\">\r\n          <div className=\"panel panel-default\">\r\n            {showtable ? (\r\n              <div>\r\n                <div className=\"panel-body\">\r\n                  <MDBDataTableV5\r\n                    hover\r\n                    entriesOptions={[10, 25, 100, 250, 500, 1000, 2000]}\r\n                    entries={25}\r\n                    pagesAmount={1000}\r\n                    data={datatable_10}\r\n                    pagingTop\r\n                    searchTop\r\n                    searchBottom={false}\r\n                    exportToCSV={true}\r\n                  />\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div></div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}